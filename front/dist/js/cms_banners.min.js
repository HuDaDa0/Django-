function Banners(){}Banners.prototype.addImageEvent=function(n){var t=n.find(".thumbnail"),e=n.find(".image-input");t.click(function(){e.click()}),e.change(function(){var n=this.files[0],e=new FormData;e.append("file",n),xfzajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(n){if(200===n.code){var e=n.data.url;t.attr("src",e)}}})})},Banners.prototype.removeBannerEvent=function(n){n.find(".close-btn").click(function(){n.remove()})},Banners.prototype.listenAddBannersEvent=function(){var a=this;$("#add-banners").click(function(){var n=template("banners-item"),e=$(".banners-list-group");e.prepend(n);var t=e.find(".banner-item:first");a.addImageEvent(t),a.removeBannerEvent(t)})},Banners.prototype.run=function(){this.listenAddBannersEvent()},$(function(){(new Banners).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtc19iYW5uZXJzLmpzIl0sIm5hbWVzIjpbIkJhbm5lcnMiLCJwcm90b3R5cGUiLCJhZGRJbWFnZUV2ZW50IiwiYmFubmVySXRlbSIsImltYWdlIiwiZmluZCIsImltYWdlSW5wdXQiLCJjbGljayIsImNoYW5nZSIsImZpbGUiLCJ0aGlzIiwiZmlsZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwieGZ6YWpheCIsInBvc3QiLCJ1cmwiLCJkYXRhIiwicHJvY2Vzc0RhdGEiLCJjb250ZW50VHlwZSIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJhdHRyIiwicmVtb3ZlQmFubmVyRXZlbnQiLCJyZW1vdmUiLCJsaXN0ZW5BZGRCYW5uZXJzRXZlbnQiLCJzZWxmIiwiJCIsInRwbCIsInRlbXBsYXRlIiwiYmFubmVyc0xpc3RHcm91cCIsInByZXBlbmQiLCJydW4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFdBTVRBLFFBQVFDLFVBQVVDLGNBQWdCLFNBQVVDLEdBQ3hDLElBQUlDLEVBQVFELEVBQVdFLEtBQUssY0FDeEJDLEVBQWFILEVBQVdFLEtBQUssZ0JBRWpDRCxFQUFNRyxNQUFNLFdBQ1JELEVBQVdDLFVBRWZELEVBQVdFLE9BQU8sV0FDZCxJQUFJQyxFQUFPQyxLQUFLQyxNQUFNLEdBQ2xCQyxFQUFXLElBQUlDLFNBQ25CRCxFQUFTRSxPQUFPLE9BQVFMLEdBRXhCTSxRQUFRQyxLQUFLLENBQ1RDLElBQU8sb0JBQ1BDLEtBQVFOLEVBQ1JPLGFBQWUsRUFDZkMsYUFBZSxFQUNmQyxRQUFXLFNBQVVDLEdBQ2pCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVcsQ0FDeEIsSUFBSUwsRUFBTUssRUFBYSxLQUFPLElBQzlCbEIsRUFBTW1CLEtBQUssTUFBT04sVUFTdENqQixRQUFRQyxVQUFVdUIsa0JBQW9CLFNBQVVyQixHQUM3QkEsRUFBV0UsS0FBSyxjQUV0QkUsTUFBTSxXQUNYSixFQUFXc0IsWUFNbkJ6QixRQUFRQyxVQUFVeUIsc0JBQXdCLFdBQ3RDLElBQUlDLEVBQU9qQixLQUNNa0IsRUFBRSxnQkFFUnJCLE1BQU0sV0FDYixJQUFJc0IsRUFBTUMsU0FBUyxnQkFDZkMsRUFBbUJILEVBQUUsdUJBQ3pCRyxFQUFpQkMsUUFBUUgsR0FFekIsSUFBSTFCLEVBQWE0QixFQUFpQjFCLEtBQUssc0JBRXZDc0IsRUFBS3pCLGNBQWNDLEdBRW5Cd0IsRUFBS0gsa0JBQWtCckIsTUFLL0JILFFBQVFDLFVBQVVnQyxJQUFNLFdBQ3BCdkIsS0FBS2dCLHlCQUlURSxFQUFFLFlBQ2dCLElBQUk1QixTQUNWaUMiLCJmaWxlIjoiY21zX2Jhbm5lcnMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gQmFubmVycygpIHtcclxuXHJcbn1cclxuXHJcblxyXG4vLyDkuIrkvKDlm77niYdcclxuQmFubmVycy5wcm90b3R5cGUuYWRkSW1hZ2VFdmVudCA9IGZ1bmN0aW9uIChiYW5uZXJJdGVtKSB7XHJcbiAgICB2YXIgaW1hZ2UgPSBiYW5uZXJJdGVtLmZpbmQoJy50aHVtYm5haWwnKTtcclxuICAgIHZhciBpbWFnZUlucHV0ID0gYmFubmVySXRlbS5maW5kKCcuaW1hZ2UtaW5wdXQnKTtcclxuXHJcbiAgICBpbWFnZS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW1hZ2VJbnB1dC5jbGljaygpO1xyXG4gICAgfSk7XHJcbiAgICBpbWFnZUlucHV0LmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpO1xyXG5cclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9jbXMvdXBsb2FkX2ZpbGUvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiBmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG4vLyDngrnlh7vlhbPpl63mjInpkq5cclxuQmFubmVycy5wcm90b3R5cGUucmVtb3ZlQmFubmVyRXZlbnQgPSBmdW5jdGlvbiAoYmFubmVySXRlbSkge1xyXG4gICAgdmFyIGNsb3NlQnRuID0gYmFubmVySXRlbS5maW5kKCcuY2xvc2UtYnRuJyk7XHJcblxyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGJhbm5lckl0ZW0ucmVtb3ZlKCk7XHJcbiAgICAgICAgLy8gYmFubmVySXRlbS5oaWRlKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5saXN0ZW5BZGRCYW5uZXJzRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYWRkQmFubmVycyA9ICQoJyNhZGQtYmFubmVycycpO1xyXG5cclxuICAgIGFkZEJhbm5lcnMuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciB0cGwgPSB0ZW1wbGF0ZSgnYmFubmVycy1pdGVtJyk7XHJcbiAgICAgICAgdmFyIGJhbm5lcnNMaXN0R3JvdXAgPSAkKCcuYmFubmVycy1saXN0LWdyb3VwJyk7XHJcbiAgICAgICAgYmFubmVyc0xpc3RHcm91cC5wcmVwZW5kKHRwbCk7XHJcblxyXG4gICAgICAgIHZhciBiYW5uZXJJdGVtID0gYmFubmVyc0xpc3RHcm91cC5maW5kKCcuYmFubmVyLWl0ZW06Zmlyc3QnKTtcclxuICAgICAgICAvLyDmiafooYzkuIrkvKDlm77niYfnmoTlip/og71cclxuICAgICAgICBzZWxmLmFkZEltYWdlRXZlbnQoYmFubmVySXRlbSk7XHJcbiAgICAgICAgLy8g54K55Ye75YWz6Zet5oyJ6ZKuXHJcbiAgICAgICAgc2VsZi5yZW1vdmVCYW5uZXJFdmVudChiYW5uZXJJdGVtKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbkJhbm5lcnMucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMubGlzdGVuQWRkQmFubmVyc0V2ZW50KCk7XHJcbn07XHJcblxyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYmFubmVycyA9IG5ldyBCYW5uZXJzKCk7XHJcbiAgICBiYW5uZXJzLnJ1bigpO1xyXG59KTtcclxuXHJcblxyXG5cclxuIl19
