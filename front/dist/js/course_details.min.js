function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),a=e.attr("data-course-id"),i=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,stretching:"uniform",repeat:!1,volume:100,controls:!0,tokenEncrypt:!0,ak:"d681abb6481e46a4940df0255d9daa7a"});i.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t,course_id:a},success:function(e){if(200===e.code){var t=e.data.token;i.setToken(o.file,t)}else window.messageBox.showInfo(e.message),i.stop()},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWxzLmpzIl0sIm5hbWVzIjpbIkNvdXJzZURldGFpbCIsInByb3RvdHlwZSIsImluaXRQbGF5ZXIiLCJ2aWRlb0luZm9TcGFuIiwiJCIsInZpZGVvX3VybCIsImF0dHIiLCJjb3Zlcl91cmwiLCJjb3Vyc2VfaWQiLCJwbGF5ZXIiLCJjeWJlcnBsYXllciIsInNldHVwIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlIiwiaW1hZ2UiLCJhdXRvc3RhcnQiLCJzdHJldGNoaW5nIiwicmVwZWF0Iiwidm9sdW1lIiwiY29udHJvbHMiLCJ0b2tlbkVuY3J5cHQiLCJhayIsIm9uIiwiZSIsInRlc3QiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwiZGF0YSIsInZpZGVvIiwic3VjY2VzcyIsInJlc3VsdCIsInRva2VuIiwic2V0VG9rZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJzdG9wIiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUtUQSxhQUFhQyxVQUFVQyxXQUFhLFdBQ2hDLElBQUlDLEVBQWdCQyxFQUFFLGVBQ2xCQyxFQUFZRixFQUFjRyxLQUFLLGtCQUMvQkMsRUFBWUosRUFBY0csS0FBSyxrQkFDL0JFLEVBQVlMLEVBQWNHLEtBQUssa0JBRS9CRyxFQUFTQyxZQUFZLG1CQUFtQkMsTUFBTSxDQUM5Q0MsTUFBTyxPQUNQQyxPQUFRLE9BQ1JDLEtBQU1ULEVBQ05VLE1BQU9SLEVBQ1BTLFdBQVcsRUFDWEMsV0FBWSxVQUNaQyxRQUFRLEVBQ1JDLE9BQVEsSUFDUkMsVUFBVSxFQUNWQyxjQUFjLEVBRWRDLEdBQUkscUNBR1JiLEVBQU9jLEdBQUcsYUFBYSxTQUFVQyxHQUN6QixPQUFPQyxLQUFLRCxFQUFFVixPQUdsQlksUUFBUUMsSUFBSSxDQUNSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN6QixFQUNURyxVQUFhQSxHQUVqQnVCLFFBQVcsU0FBVUMsR0FDakIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFRRCxFQUFhLEtBQVMsTUFDbEN2QixFQUFPeUIsU0FBU1YsRUFBRVYsS0FBS21CLFFBRXZCRSxPQUFPQyxXQUFXQyxTQUFTTCxFQUFnQixTQUMzQ3ZCLEVBQU82QixRQUdmQyxLQUFRLFNBQVVDLEdBQ2RDLFFBQVFDLElBQUlGLFNBTzVCeEMsYUFBYUMsVUFBVTBDLElBQU0sV0FDekJDLEtBQUsxQyxjQUlURSxFQUFFLFlBQ3FCLElBQUlKLGNBQ1YyQyIsImZpbGUiOiJjb3Vyc2VfZGV0YWlscy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBDb3Vyc2VEZXRhaWwoKSB7XHJcblxyXG59XHJcblxyXG5cclxuQ291cnNlRGV0YWlsLnByb3RvdHlwZS5pbml0UGxheWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHZpZGVvSW5mb1NwYW4gPSAkKFwiI3ZpZGVvLWluZm9cIik7XHJcbiAgICB2YXIgdmlkZW9fdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS12aWRlby11cmxcIik7XHJcbiAgICB2YXIgY292ZXJfdXJsID0gdmlkZW9JbmZvU3Bhbi5hdHRyKFwiZGF0YS1jb3Zlci11cmxcIik7XHJcbiAgICB2YXIgY291cnNlX2lkID0gdmlkZW9JbmZvU3Bhbi5hdHRyKCdkYXRhLWNvdXJzZS1pZCcpO1xyXG5cclxuICAgIHZhciBwbGF5ZXIgPSBjeWJlcnBsYXllcihcInBsYXllcmNvbnRhaW5lclwiKS5zZXR1cCh7XHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICBmaWxlOiB2aWRlb191cmwsXHJcbiAgICAgICAgaW1hZ2U6IGNvdmVyX3VybCxcclxuICAgICAgICBhdXRvc3RhcnQ6IGZhbHNlLFxyXG4gICAgICAgIHN0cmV0Y2hpbmc6IFwidW5pZm9ybVwiLFxyXG4gICAgICAgIHJlcGVhdDogZmFsc2UsXHJcbiAgICAgICAgdm9sdW1lOiAxMDAsXHJcbiAgICAgICAgY29udHJvbHM6IHRydWUsXHJcbiAgICAgICAgdG9rZW5FbmNyeXB0OiB0cnVlLFxyXG4gICAgICAgIC8vIEFjY2Vzc0tleVxyXG4gICAgICAgIGFrOiAnZDY4MWFiYjY0ODFlNDZhNDk0MGRmMDI1NWQ5ZGFhN2EnXHJcbiAgICB9KTtcclxuXHJcbiAgICBwbGF5ZXIub24oJ2JlZm9yZVBsYXknLGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYoIS9tM3U4Ly50ZXN0KGUuZmlsZSkpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvX3VybCxcclxuICAgICAgICAgICAgICAgICdjb3Vyc2VfaWQnOiBjb3Vyc2VfaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW4gPSByZXN1bHRbJ2RhdGEnXVsndG9rZW4nXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc2V0VG9rZW4oZS5maWxlLHRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKHJlc3VsdFsnbWVzc2FnZSddKTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnZmFpbCc6IGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvdXJzZURldGFpbCA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcclxuICAgIGNvdXJzZURldGFpbC5ydW4oKTtcclxufSk7XHJcbiJdfQ==
