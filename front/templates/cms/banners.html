{% extends 'cms/base.html' %}

{% block title %}
    轮播图管理页面
{% endblock %}

{% block head %}
    <style>
        .btn-group {
            float: left;
        }
        .tips {
            float: left;
        }
        .banner-item {
            width: 800px;
        }
    
        .thumbnail-group {
            float: left;
            width: 230px;
            height: 90px;
        }
        .thumbnail {
            width: 100%;
            height: 100%;
        }
        .more-group {
            float: left;
            margin-left: 20px;
            width: 500px;
        }
    </style>
    <script src="{% static 'arttemplate/template-web.js' %}"></script>
    <script src="{% static 'js/cms_banners.min.js' %}"></script>
{% endblock %}


{% block content-header %}
    <h1>轮播图管理</h1>
{% endblock %}


{% block content %}
    <div class="row">
        {#    顶部的描述信息和添加按钮    #}
        <div class="col-md-12">
            <div class="btn-group">
                    <button class="btn btn-primary" id="add-banners">
                        <i class="fa fa-plus"></i>
                        添加轮播图
                    </button>
                    <ul class="tips">
                        <li>支持JPG, GIF, PNG格式, 最多可上传6张</li>
                        <li>比例4: 1, 宽度800px以上, 5M以为</li>
                    </ul>
                </div>
        </div>

        <div class="banners-list-group">
            {# 轮播图的内容 #}
{#            {% for banner in banners %}#}
{#                <div class="col-md-12">#}
{#                    <div class="box banner-item">#}
{#                        <div class="box-header">#}
{#                            <span class="priority">优先级：{{ banner.priority }}</span>#}
{#                            <button class="btn btn-default btn-xs pull-right close-btn" data-close="{{ banner.pk }}">#}
{#                                <i class="fa fa-close"></i>#}
{#                            </button>#}
{#                        </div>#}
{##}
{#                        <div class="box-body">#}
{#                            <div class="thumbnail-group">#}
{#                                <input type="file" class="image-input" style="display: none;">#}
{#                                <img src="{{ banner.image_url }}" alt="" class="thumbnail">#}
{#                            </div>#}
{#                            <div class="more-group">#}
{#                                <div class="form-group">#}
{#                                    <input type="number" class="form-control" name="priority" placeholder="优先级" value="{{ banner.priority }}">#}
{#                                </div>#}
{#                                <div class="form-group">#}
{#                                    <input type="text" class="form-control" name="link_to" placeholder="跳转连接" value="{{ banner.link_to }}">#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
{##}
{#                        <div class="box-footer">#}
{#                            <button class="btn btn-primary pull-right save-btn">保存</button>#}
{#                        </div>#}
{#                    </div>#}
{#            </div>#}
{#            {% endfor %}#}


        </div>
    </div>

    <script id="banners-item" type="text/html">
    {% verbatim %}
        <div class="col-md-12">
        {{ if banner }}
            <div class="box banner-item" data-banner-id="{{ banner.id }}">
        {{ else }}
            <div class="box banner-item">
        {{ /if }}
                <div class="box-header">
                    {{ if banner }}
                        <span class="priority">优先级：{{ banner.pk }}</span>
                    {{ else }}
                        <span class="priority">优先级：0</span>
                    {{ /if }}
                    <button class="btn btn-default btn-xs pull-right close-btn">
                        <i class="fa fa-close"></i>
                    </button>
                </div>

                <div class="box-body">
                    <div class="thumbnail-group">
                        <input type="file" class="image-input" style="display: none;">
                        {{ if banner }}
                            <img src="{{ banner.image_url }}" alt="" class="thumbnail">
                        {{ else }}
                            <img src="/static/images/banner.png" alt="" class="thumbnail">
                        {{ /if }}
                    </div>
                    <div class="more-group">
                        <div class="form-group">
                            {{ if banner }}
                                <input type="number" class="form-control" name="priority" placeholder="优先级" value="{{ banner.priority }}">
                            {{ else }}
                                <input type="number" class="form-control" name="priority" placeholder="优先级">
                            {{ /if }}
                        </div>
                        <div class="form-group">
                            {{ if banner }}
                                <input type="text" class="form-control" name="link_to" placeholder="跳转连接" value="{{ banner.link_to }}">
                            {{ else }}
                                <input type="text" class="form-control" name="link_to" placeholder="跳转连接">
                            {{ /if }}
                        </div>
                    </div>
                </div>

                <div class="box-footer">
                    <button class="btn btn-primary pull-right save-btn">保存</button>
                </div>
            </div>
        </div>
    {% endverbatim %}
    </script>
{% endblock %}






